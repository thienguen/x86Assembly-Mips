     1                                 %line 1+1 ast05.asm
     2                                 
     3                                 
     4                                 
     5                                 
     6                                 
     7                                 
     8                                 
     9                                 
    10                                 
    11                                 
    12                                 
    13                                 
    14                                 
    15                                 
    16                                 
    17                                 [section .data]
    18                                 
    19                                 
    20                                 
    21                                 
    22                                 NULL equ 0
    23                                 
    24                                 TRUE equ 1
    25                                 FALSE equ 0
    26                                 
    27                                 EXIT_SUCCESS equ 0
    28                                 SYS_exit equ 60
    29                                 
    30                                 
    31                                 
    32                                 
    33                                 
    34                                 
    35 00000000 0A000E000D00250036-    sides dw 10, 14, 13, 37, 54
    36 00000000 00                 
    37 0000000A 0E001D004000430022-     dw 14, 29, 64, 67, 34
    38 0000000A 00                 
    39 00000014 1F000D0014003D0024-     dw 31, 13, 20, 61, 36
    40 00000014 00                 
    41 0000001E 0E0035002C0013002A-     dw 14, 53, 44, 19, 42
    42 0000001E 00                 
    43 00000028 2C0034001F002A0038-     dw 44, 52, 31, 42, 56
    44 00000028 00                 
    45 00000032 0F00180024004B002E-     dw 15, 24, 36, 75, 46
    46 00000032 00                 
    47 0000003C 1B00290035003E000A-     dw 27, 41, 53, 62, 10
    48 0000003C 00                 
    49 00000046 2100040049001F000F-     dw 33, 4, 73, 31, 15
    50 00000046 00                 
    51 00000050 05000B001600210046-     dw 5, 11, 22, 33, 70
    52 00000050 00                 
    53 0000005A 0F0017000F003F001A-     dw 15, 23, 15, 63, 26
    54 0000005A 00                 
    55 00000064 10000D004000350041-     dw 16, 13, 64, 53, 65
    56 00000064 00                 
    57 0000006E 1A000C003900430022-     dw 26, 12, 57, 67, 34
    58 0000006E 00                 
    59 00000078 180021000A003D000F-     dw 24, 33, 10, 61, 15
    60 00000078 00                 
    61 00000082 260049001D0011005D-     dw 38, 73, 29, 17, 93
    62 00000082 00                 
    63 0000008C 400049004A00170038-     dw 64, 73, 74, 23, 56
    64 0000008C 00                 
    65 00000096 0900080004000A000F-     dw 9, 8, 4, 10, 15
    66 00000096 00                 
    67 000000A0 0D0017003500430023-     dw 13, 23, 53, 67, 35
    68 000000A0 00                 
    69 000000AA 0E0022000D00470051-     dw 14, 34, 13, 71, 81
    70 000000AA 00                 
    71 000000B4 11000E001100190035-     dw 17, 14, 17, 25, 53
    72 000000B4 00                 
    73 000000BE 170049000F0006000D-     dw 23, 73, 15, 6, 13
    74 000000BE 00                 
    75                                 
    76 000000C8 64000000               length dd 100
    77                                 
    78 000000CC 0000                   caMin dw 0
    79 000000CE 0000                   caMid dw 0
    80 000000D0 0000                   caMax dw 0
    81 000000D2 00000000               caSum dd 0
    82 000000D6 0000                   caAve dw 0
    83                                 
    84 000000D8 00000000               cvMin dd 0
    85 000000DC 00000000               cvMid dd 0
    86 000000E0 00000000               cvMax dd 0
    87 000000E4 00000000               cvSum dd 0
    88 000000E8 00000000               cvAve dd 0
    89                                 
    90                                 
    91                                 
    92                                 
    93                                 
    94                                 
    95                                 
    96                                 [section .bss]
    97                                 
    98                                 
    99                                 
   100                                 
   101 00000000 <gap>                  cubeAreas resw 100
   102 000000C8 <gap>                  cubeVolumes resd 100
   103                                 
   104                                 
   105                                 
   106                                 
   107                                 [section .text]
   108                                 [global _start]
   109                                 _start:
   110                                 
   111                                 
   112                                 
   113                                 
   114                                 
   115                                 
   116                                 
   117                                 
   118                                 
   119                                 
   120                                 
   121                                 
   122 00000000 8B0C25[00000000]        mov ecx, dword[length]
   123 00000007 66C70425[00000000]-     mov word[caSum], 0
   124 00000007 0000               
   125 00000011 48C7C600000000          mov rsi, 0
   126                                 
   127                                 areasLoop:
   128 00000018 0FB78436[00000000]      movzx eax, word[sides+rsi*2]
   129 00000020 F7E0                    mul eax
   130 00000022 41B906000000            mov r9d, 6
   131 00000028 41F7E1                  mul r9d
   132 0000002B 66898436[00000000]      mov word[cubeAreas+rsi*2], ax
   133 00000033 010425[00000000]        add dword[caSum], eax
   134 0000003A 48FFC6                  inc rsi
   135 0000003D E2D7                    loop areasLoop
   136                                 
   137                                 
   138                                 
   139                                 
   140 0000003F 668B0425[00000000]      mov ax, word[cubeAreas]
   141 00000047 66890425[00000000]      mov word[caMax], ax
   142 0000004F 66890425[00000000]      mov word[caMin], ax
   143 00000057 48C7C600000000          mov rsi, 0
   144 0000005E 8B0C25[00000000]        mov ecx, dword[length]
   145                                 
   146                                 startLoop2:
   147 00000065 668B8436[00000000]      mov ax, word[cubeAreas+rsi*2]
   148 0000006D 663B0425[00000000]      cmp ax, word[caMax]
   149 00000075 7606                    jbe maxDone2
   150 00000077 66890425[00000000]      mov word[caMax], ax
   151                                 
   152                                 maxDone2:
   153 0000007F 663B0425[00000000]      cmp ax, word[caMin]
   154 00000087 7306                    jae minDone2
   155 00000089 66890425[00000000]      mov word[caMin], ax
   156                                 
   157                                 minDone2:
   158 00000091 48FFC6                  inc rsi
   159 00000094 E2CD                    loop startLoop2
   160                                 
   161                                 
   162                                 
   163 00000096 8B0425[00000000]        mov eax, dword[length]
   164 0000009D 41B802000000            mov r8d, 2
   165 000000A3 BA00000000              mov edx, 0
   166 000000A8 41F7F0                  div r8d
   167 000000AB 48C7C600000000          mov rsi, 0
   168 000000B2 89C6                    mov esi, eax
   169                                 
   170 000000B4 668B8436[00000000]      mov ax, word[cubeAreas+rsi*2]
   171 000000BC 48FFCE                  dec rsi
   172 000000BF 66038436[00000000]      add ax, word[cubeAreas+rsi*2]
   173 000000C7 BA00000000              mov edx, 0
   174 000000CC 41F7F0                  div r8d
   175 000000CF 66890425[00000000]      mov word[caMid], ax
   176                                 
   177                                 
   178 000000D7 8B0425[00000000]        mov eax, dword[caSum]
   179 000000DE BA00000000              mov edx, 0
   180 000000E3 F73425[00000000]        div dword[length]
   181 000000EA 66890425[00000000]      mov word[caAve], ax
   182                                 
   183                                 
   184                                 
   185                                 
   186                                 
   187                                 
   188 000000F2 8B0C25[00000000]        mov ecx, dword[length]
   189 000000F9 C70425[00000000]00-     mov dword[cvSum], 0
   190 000000F9 000000             
   191 00000104 48C7C600000000          mov rsi, 0
   192                                 
   193                                 volumesLoop:
   194 0000010B 0FB78436[00000000]      movzx eax, word[sides+rsi*2]
   195 00000113 F7E0                    mul eax
   196 00000115 440FB78C36[00000000]      movzx r9d, word[sides+rsi*2]
   197 0000011E 41F7E1                  mul r9d
   198                                 
   199 00000121 8904B5[00000000]        mov dword[cubeVolumes+rsi*4], eax
   200 00000128 010425[00000000]        add dword[cvSum], eax
   201 0000012F 48FFC6                  inc rsi
   202 00000132 E2D5                    loop volumesLoop
   203                                 
   204                                 
   205                                 
   206                                 
   207 00000134 8B0425[00000000]        mov eax, dword[cubeVolumes]
   208 0000013B 890425[00000000]        mov dword[cvMax], eax
   209 00000142 890425[00000000]        mov dword[cvMin], eax
   210 00000149 48C7C600000000          mov rsi, 0
   211 00000150 8B0C25[00000000]        mov ecx, dword[length]
   212                                 
   213                                 startLoop1:
   214 00000157 8B04B5[00000000]        mov eax, dword[cubeVolumes+rsi*4]
   215 0000015E 3B0425[00000000]        cmp eax, dword[cvMax]
   216 00000165 7605                    jbe maxDone1
   217 00000167 890425[00000000]        mov dword[cvMax], eax
   218                                 
   219                                 maxDone1:
   220 0000016E 3B0425[00000000]        cmp eax, dword[cvMin]
   221 00000175 7305                    jae minDone1
   222 00000177 890425[00000000]        mov dword[cvMin], eax
   223                                 
   224                                 minDone1:
   225 0000017E 48FFC6                  inc rsi
   226 00000181 E2D2                    loop startLoop1
   227                                 
   228                                 
   229 00000183 8B0425[00000000]        mov eax, dword[length]
   230 0000018A 41B802000000            mov r8d, 2
   231 00000190 BA00000000              mov edx, 0
   232 00000195 41F7F0                  div r8d
   233 00000198 48C7C600000000          mov rsi, 0
   234 0000019F 89C6                    mov esi, eax
   235                                 
   236 000001A1 8B04B5[00000000]        mov eax, dword[cubeVolumes+rsi*4]
   237 000001A8 48FFCE                  dec rsi
   238 000001AB 0304B5[00000000]        add eax, dword[cubeVolumes+rsi*4]
   239 000001B2 BA00000000              mov edx, 0
   240 000001B7 41F7F0                  div r8d
   241 000001BA 890425[00000000]        mov dword[cvMid], eax
   242                                 
   243                                 
   244 000001C1 8B0425[00000000]        mov eax, dword[cvSum]
   245 000001C8 BA00000000              mov edx, 0
   246 000001CD F73425[00000000]        div dword[length]
   247 000001D4 890425[00000000]        mov dword[cvAve], eax
   248                                 
   249                                 
   250                                 
   251                                 
   252                                 
   253                                 
   254                                 last:
   255 000001DB 48C7C03C000000          mov rax, SYS_exit
   256 000001E2 48C7C700000000          mov rdi, EXIT_SUCCESS
   257 000001E9 0F05                    syscall
